
## ترجمه تمرین 5.5.2:
«تمرین 5.5.2: فرض کنید نمودار ما یک زنجیره از $n$ گره است، همانطور که در شکل 5.9 نشان داده شده است. بردارهای هاب و اعتبار را به عنوان تابعی از $n$ محاسبه کنید.»

## مقدمه‌ای بر الگوریتم HITS (Hubs and Authorities)
الگوریتم HITS، مفهومی از اهمیت صفحات وب را معرفی می‌کند که بر پایه دو جنبه متقابل "هاب بودن" و "اعتبار داشتن" بنا شده است.
* یک صفحه هاب خوب است اگر به صفحات اعتبار خوب پیوند دهد.
* یک صفحه اعتبار خوب است اگر صفحات هاب خوب به آن پیوند دهند.

برای محاسبه این امتیازات، از ماتریس پیوند (Link Matrix) وب، با نماد $L$ استفاده می‌شود. در این ماتریس، $L_{ij} = 1$ اگر از صفحه $i$ به صفحه $j$ پیوندی وجود داشته باشد، و $L_{ij} = 0$ در غیر این صورت است. همچنین، $L^T$ (ترانهاده $L$) نیز استفاده می‌شود.

**محاسبات به صورت تکراری انجام می‌شوند:**
1.  بردار اولیه هاب ($h$) را با تمام مؤلفه‌های 1 شروع می‌کنیم (مثلاً $h = [1, 1, \ldots, 1]^T$).
2.  بردار اعتبار ($a$) با $a = L^T h$ محاسبه می‌شود و سپس به گونه‌ای مقیاس‌بندی می‌شود که بزرگترین مؤلفه آن 1 باشد.
3.  بردار هاب ($h$) با $h = L a$ محاسبه می‌شود و دوباره به گونه‌ای مقیاس‌بندی می‌شود که بزرگترین مؤلفه آن 1 باشد.
این مراحل تکرار می‌شوند تا زمانی که تغییرات در بردارها به اندازه کافی کوچک شوند و به یک مقدار ثابت (fixed point) همگرا شوند.

**نکته:** لازم به ذکر است که بر خلاف الگوریتم PageRank، وجود صفحات "بن‌بست" (dead ends) یا "تله‌های عنکبوتی" (spider traps) بر همگرایی راه‌حل‌های HITS تأثیری نمی‌گذارد و نیازی به اعمال "مالیات" یا تغییر نمودار نیست.

## ساختار نمودار زنجیره‌ای (شکل 5.9)
نمودار نشان داده شده در شکل 5.9 یک زنجیره از $n$ گره است. فرض می‌کنیم گره‌ها از چپ به راست با اعداد 1 تا $n$ نام‌گذاری شده‌اند:

* گره 1 به خودش (خودپیوند) و به گره 2 پیوند می‌دهد.
* هر گره $i$ (برای $1 < i < n$) فقط به گره $i+1$ پیوند می‌دهد.
* گره $n$ (آخرین گره در زنجیره) به هیچ گره‌ای پیوند نمی‌دهد (یک بن‌بست).

بر اساس این ساختار، ماتریس پیوند $L$ برای $n$ گره به صورت زیر خواهد بود:

$$
L = \begin{pmatrix}
1 & 1 & 0 & \cdots & 0 & 0 \\
0 & 0 & 1 & \cdots & 0 & 0 \\
0 & 0 & 0 & \ddots & 0 & 0 \\
\vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
0 & 0 & 0 & \cdots & 1 & 0 \\
0 & 0 & 0 & \cdots & 0 & 0
\end{pmatrix}
$$

و ماتریس ترانهاده $L^T$ به صورت زیر است:

$$
L^T = \begin{pmatrix}
1 & 0 & 0 & \cdots & 0 & 0 \\
1 & 0 & 0 & \cdots & 0 & 0 \\
0 & 1 & 0 & \cdots & 0 & 0 \\
\vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
0 & 0 & 0 & \cdots & 0 & 0 \\
0 & 0 & 0 & \cdots & 1 & 0
\end{pmatrix}^T
$$

**نکته مهم در نمایش $L^T$:** ماتریس $L^T$ که شما ارائه داده‌اید، به نظر می‌رسد که به جای ستون آخر صفر، ستون `n-1` دارای 1 باشد و سطر `n` دارای 0 باشد. اجازه دهید آن را به صورت صحیح و واضح‌تر بازنویسی کنم، که ترانهاده ماتریس $L$ بالایی است:

$$
L^T = \begin{pmatrix}
1 & 0 & 0 & \cdots & 0 & 0 \\
1 & 0 & 0 & \cdots & 0 & 0 \\
0 & 1 & 0 & \cdots & 0 & 0 \\
0 & 0 & 1 & \cdots & 0 & 0 \\
\vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
0 & 0 & 0 & \cdots & 1 & 0 \\
0 & 0 & 0 & \cdots & 0 & 0
\end{pmatrix}
$$
(این ماتریس ترانهاده صحیح $L$ است: سطر دوم $L$ ($[0,0,1,\ldots,0,0]$) به ستون دوم $L^T$ تبدیل می‌شود و الی آخر.)

## محاسبه بردارهای هاب و اعتبار
ما با بردار اولیه هاب $h^{(0)} = [1, 1, \ldots, 1]^T$ شروع می‌کنیم (بدون مقیاس‌بندی اولیه).

### تکرار 1:
1.  **محاسبه اعتبار ($a^{(1)}$):** $a^{(1)} = L^T h^{(0)}$
    * $a^{(1)}_1 = (\text{پیوندهای ورودی به گره 1}) = h^{(0)}_1 (\text{از } 1 \to 1) + h^{(0)}_2 (\text{از } 2 \to 1 \text{ - این پیوند وجود ندارد!})$
        **تصحیح:** با توجه به ماتریس $L^T$ (ترانهاده $L$) که ارائه شده،
        $a^{(1)}_1 = (L^T \text{s.t. } [1,1,0,\ldots,0,0]\text{ for node 1}) \cdot h^{(0)} = 1 \cdot h^{(0)}_1 + 1 \cdot h^{(0)}_2 + 0 \cdot h^{(0)}_3 + \ldots$
        **با توجه به ساختار $L^T$ (که ستون $i$ در $L^T$ مربوط به پیوندهای ورودی به گره $i$ است):**
        * $a^{(1)}_1 = L^T_{1,1} h^{(0)}_1 + L^T_{2,1} h^{(0)}_2 + \ldots = 1 \cdot 1 + 1 \cdot 1 = 2$ (گره 1 و 2 به گره 1 پیوند می‌دهند) **(تصحیح:** گره 1 به خودش پیوند می‌دهد و گره 2 به گره 3 پیوند می‌دهد. بنابراین فقط گره 1 به گره 1 پیوند می‌دهد و مقدار 1 برای آن دریافت می‌کند.
        * گره 2 از گره 1 پیوند می‌گیرد.
        * گره 3 از گره 2 پیوند می‌گیرد.
        * ...
        * گره $i$ از گره $i-1$ پیوند می‌گیرد.
        **بر اساس $L^T$ صحیح بالا:**
        * $a^{(1)}_1 = (\text{پیوندهای ورودی به گره 1}) = h^{(0)}_1 (\text{از } 1 \to 1) = 1$
        * $a^{(1)}_2 = (\text{پیوندهای ورودی به گره 2}) = h^{(0)}_1 (\text{از } 1 \to 2) = 1$
        * $a^{(1)}_i = (\text{پیوندهای ورودی به گره } i) = h^{(0)}_{i-1} (\text{از } i-1 \to i) = 1 \text{، برای } i = 3, \ldots, n$
        پس، $a^{(1)} = [1, 1, 1, \ldots, 1]^T$.
    * (بزرگترین مؤلفه 1 است، بنابراین پس از مقیاس‌بندی نیز همین بردار خواهد بود.)

2.  **محاسبه هاب ($h^{(1)}$):** $h^{(1)} = L a^{(1)}$
    * $h^{(1)}_1 = (\text{پیوندهای خروجی از گره 1}) = a^{(1)}_1 (\text{به خودش}) + a^{(1)}_2 (\text{به گره 2}) = 1 + 1 = 2$
    * $h^{(1)}_i = (\text{پیوندهای خروجی از گره } i) = a^{(1)}_{i+1} = 1 \text{، برای } i = 2, \ldots, n-1$
    * $h^{(1)}_n = (\text{پیوندهای خروجی از گره } n) = 0 \text{ (زیرا به هیچ کجا پیوند نمی‌دهد)}$
    * پس، $h^{(1)} = [2, 1, 1, \ldots, 1, 0]^T$.
    * (پس از مقیاس‌بندی به گونه‌ای که بزرگترین مؤلفه 1 باشد): $h^{(1)}_{\text{scaled}} = [1, 1/2, 1/2, \ldots, 1/2, 0]^T$.

### تکرار 2:
1.  **محاسبه اعتبار ($a^{(2)}$):** $a^{(2)} = L^T h^{(1)}_{\text{scaled}}$
    * $a^{(2)}_1 = h^{(1)}_{\text{scaled}, 1} (\text{از } 1 \to 1) = 1$
    * $a^{(2)}_2 = h^{(1)}_{\text{scaled}, 1} (\text{از } 1 \to 2) = 1$
    * $a^{(2)}_i = h^{(1)}_{\text{scaled}, i-1} (\text{از } i-1 \to i) = 1/2 \text{، برای } i = 3, \ldots, n$
    * پس، $a^{(2)} = [1, 1, 1/2, 1/2, \ldots, 1/2]^T$.
    * (بزرگترین مؤلفه 1 است، بنابراین نیازی به مقیاس‌بندی ندارد).

2.  **محاسبه هاب ($h^{(2)}$):** $h^{(2)} = L a^{(2)}$
    * $h^{(2)}_1 = a^{(2)}_1 (\text{به خودش}) + a^{(2)}_2 (\text{به گره 2}) = 1 + 1 = 2$
    * $h^{(2)}_i = a^{(2)}_{i+1} = 1/2 \text{، برای } i = 2, \ldots, n-1$
    * $h^{(2)}_n = 0$
    * پس، $h^{(2)} = [2, 1/2, 1/2, \ldots, 1/2, 0]^T$.
    * (پس از مقیاس‌بندی): $h^{(2)}_{\text{scaled}} = [1, 1/4, 1/4, \ldots, 1/4, 0]^T$.

### همگرایی و بردارهای نهایی:
با ادامه این روند، می‌توان الگویی را مشاهده کرد:

* **بردار هاب ($h$) پس از $k$ تکرار (مقیاس‌بندی شده):**
    $$
    h^{(k)}_{\text{scaled}} = [1, (1/2)^{k-1}, (1/2)^{k-1}, \ldots, (1/2)^{k-1}, 0]^T \text{ (برای } k \geq 1 \text{)}
    $$
    با افزایش $k$ (تعداد تکرارها) به بی‌نهایت، $(1/2)^{k-1}$ به 0 میل می‌کند.
    بنابراین، **بردار هاب نهایی (مقیاس‌بندی شده)** به صورت زیر خواهد بود:
    $$
    h = [1, 0, 0, \ldots, 0, 0]^T
    $$

* **بردار اعتبار ($a$) پس از $k$ تکرار (مقیاس‌بندی شده):**
    $$
    a^{(k)}_{\text{scaled}} = [1, 1, (1/2)^{k-1}, (1/2)^{k-1}, \ldots, (1/2)^{k-1}]^T \text{ (برای } k \geq 2 \text{)}
    $$
    (برای $k=1$, $a^{(1)}=[1,1,\ldots,1]^T$. برای $k \ge 2$, مقادیر بعد از مؤلفه دوم به نصف می‌رسند. برای ساده‌سازی، می‌توانیم فرمولی برای $k \ge 1$ ارائه دهیم که در آن $a^{(k)}_1 = 1$, $a^{(k)}_2 = 1$ و $a^{(k)}_i = (1/2)^{k-2}$ برای $i \ge 3$.)
    با افزایش $k$ به بی‌نهایت، $(1/2)^{k-1}$ به 0 میل می‌کند.
    بنابراین، **بردار اعتبار نهایی (مقیاس‌بندی شده)** به صورت زیر خواهد بود:
    $$
    a = [1, 1, 0, 0, \ldots, 0]^T
    $$

## نتیجه‌گیری:
برای نمودار زنجیره‌ای $n$ گرهی (با فرض $n \ge 2$):

* **بردار هاب ($h$):**
    * مؤلفه مربوط به گره 1، برابر 1 است.
    * سایر مؤلفه‌ها (گره‌های 2 تا $n$)، برابر 0 هستند.
    این نشان می‌دهد که فقط گره 1 به عنوان یک هاب اصلی عمل می‌کند، زیرا منبع اصلی پیوندها به سایر گره‌ها است و همچنین خود را تقویت می‌کند.

* **بردار اعتبار ($a$):**
    * مؤلفه‌های مربوط به گره 1 و گره 2، برابر 1 هستند.
    * سایر مؤلفه‌ها (گره‌های 3 تا $n$)، برابر 0 هستند.
    این نشان می‌دهد که گره 1 و گره 2 بالاترین اعتبار را دارند. گره 1 به دلیل پیوند به خودش و به عنوان منبع هاب اصلی. گره 2 به دلیل اینکه مستقیماً توسط گره 1 (هاب اصلی) پیوند خورده است. گره‌های بعدی در زنجیره، به تدریج اعتبار کمتری پیدا می‌کنند تا جایی که در حد همگرایی به صفر می‌رسند.

این نتایج، برای هر $n \ge 2$ صادق هستند. اگر $n = 1$ باشد، تنها گره 1 وجود دارد و پیوند $1 \to 1$. در این حالت، هر دو بردار هاب و اعتبار $[1]$ خواهند بود.
