---
# حل تمرینات بخش 3.5

**تمرین 3.5.1**: در فضای اعداد صحیح نامنفی، کدام یک از توابع زیر سنجه فاصله (distance measure) هستند؟ اگر هستند، آن را ثابت کنید؛ اگر نیستند، ثابت کنید که قادر به ارضای یک یا چند اصل (axiom) نیستند.
(الف) $max(x, y)$ = عدد بزرگتر بین $x$ و $y$.
(ب) $diff(x, y) = |x − y|$ (مقدار مطلق اختلاف بین $x$ و $y$).
(ج) $sum(x, y) = x + y$.

---

### بررسی اصول سنجه فاصله

برای تعیین اینکه آیا یک تابع $d(x, y)$ یک سنجه فاصله (metric) بر روی یک فضا است یا خیر، باید چهار اصل زیر را بررسی کنیم:

1.  **نامنفی بودن (Non-negativity)**: $d(x, y) \ge 0$.
2.  **هویت نامتمایزها (Identity of indiscernibles)**: $d(x, y) = 0$ اگر و فقط اگر $x = y$.
3.  **تقارن (Symmetry)**: $d(x, y) = d(y, x)$.
4.  **نامساوی مثلثی (Triangle inequality)**: $d(x, y) \le d(x, z) + d(z, y)$.

فضای مورد بررسی در این تمرین، مجموعه **اعداد صحیح نامنفی** ($\mathbb{N}_0 = \{0, 1, 2, \dots\}$) است.

---

**(الف) $d(x, y) = \text{max}(x, y)$**

بررسی اصول برای $d(x, y) = \text{max}(x, y)$ در فضای اعداد صحیح نامنفی:

1.  **نامنفی بودن**: $max(x, y)$ همیشه برای اعداد صحیح نامنفی، نامنفی است.
    * **نتیجه**: **اصل 1 برقرار است.**

2.  **هویت نامتمایزها**: آیا $max(x, y) = 0$ اگر و فقط اگر $x = y$؟
    * **اگر $x = y$:**
        * اگر $x = y = 0$، آنگاه $max(0, 0) = 0$. این بخش برقرار است.
        * اما اگر $x = y > 0$ (مثلاً $x=1, y=1$)، آنگاه $max(1, 1) = 1 \ne 0$.
    * **اگر $max(x, y) = 0$:**
        * این به معنی $x \le 0$ و $y \le 0$ است. چون فضا اعداد صحیح نامنفی است، تنها امکان $x=0$ و $y=0$ است، که در این حالت $x=y$ برقرار است.
    * **نتیجه**: **اصل 2 نقض می‌شود.** به عنوان مثال، $d(1, 1) = max(1, 1) = 1 \ne 0$. (این باید $0$ می‌بود).

چون اصل 2 نقض می‌شود، $d(x, y) = max(x, y)$ **یک سنجه فاصله نیست**. نیازی به بررسی اصول بعدی نیست.

---

**(ب) $d(x, y) = |x − y|$**

بررسی اصول برای $d(x, y) = |x − y|$ در فضای اعداد صحیح نامنفی:

1.  **نامنفی بودن**: $|x − y|$ مقدار مطلق است، بنابراین همیشه نامنفی است.
    * **نتیجه**: **اصل 1 برقرار است.**

2.  **هویت نامتمایزها**: آیا $|x − y| = 0$ اگر و فقط اگر $x = y$؟
    * اگر $x = y$، آنگاه $|x − y| = |x − x| = |0| = 0$.
    * اگر $|x − y| = 0$، آنگاه $x − y = 0$، که به معنی $x = y$ است.
    * **نتیجه**: **اصل 2 برقرار است.**

3.  **تقارن**: $|x − y| = |−(y − x)| = |y − x|$.
    * **نتیجه**: **اصل 3 برقرار است.**

4.  **نامساوی مثلثی**: آیا $|x − y| \le |x − z| + |z − y|$؟
    * این یک خاصیت شناخته شده از مقدار مطلق است و به نام نامساوی مثلثی برای اعداد حقیقی (و در نتیجه اعداد صحیح نامنفی) شناخته می‌شود.
    * **نتیجه**: **اصل 4 برقرار است.**

چون تمام چهار اصل برقرار هستند، $d(x, y) = |x − y|$ **یک سنجه فاصله** بر روی فضای اعداد صحیح نامنفی است. این همان L1-norm در فضای 1 بعدی است.

---

**(ج) $d(x, y) = x + y$**

بررسی اصول برای $d(x, y) = x + y$ در فضای اعداد صحیح نامنفی:

1.  **نامنفی بودن**: اگر $x$ و $y$ اعداد صحیح نامنفی باشند، $x+y$ نیز نامنفی است.
    * **نتیجه**: **اصل 1 برقرار است.**

2.  **هویت نامتمایزها**: آیا $x + y = 0$ اگر و فقط اگر $x = y$?
    * **اگر $x = y$:**
        * $d(x, x) = x + x = 2x$.
        * برای اینکه $2x = 0$ باشد، تنها حالت ممکن این است که $x = 0$. بنابراین، $d(0, 0) = 0$.
        * اما برای هر $x > 0$ (مثلاً $x=1$)، $d(1, 1) = 1 + 1 = 2 \ne 0$.
    * **نتیجه**: **اصل 2 نقض می‌شود.** (زیرا $d(x, x)$ باید برای تمام $x$های یکسان برابر صفر باشد).

چون اصل 2 نقض می‌شود، $d(x, y) = x + y$ **یک سنجه فاصله نیست**. نیازی به بررسی اصول بعدی نیست.

---

### راه‌حل تمرین 3.5.2

**تمرین 3.5.2**: فاصله L1 و L2 را بین نقاط $(5, 6, 7)$ و $(8, 2, 4)$ پیدا کنید.

فاصله L1 و L2 را بین نقاط $p_1 = (5, 6, 7)$ و $p_2 = (8, 2, 4)$ در فضای سه‌بعدی اقلیدسی محاسبه می‌کنیم.

#### **فاصله L1 (Manhattan distance)**:
این فاصله برابر با مجموع قدر مطلق تفاوت مولفه‌ها در هر بعد است:
$$d_{L1}(p_1, p_2) = |5 - 8| + |6 - 2| + |7 - 4|$$$$d_{L1}(p_1, p_2) = |-3| + |4| + |3|$$$$d_{L1}(p_1, p_2) = 3 + 4 + 3$$
$$d_{L1}(p_1, p_2) = \mathbf{10}$$

#### **فاصله L2 (Euclidean distance)**:
این فاصله برابر با ریشه دوم مجموع مربع تفاوت مولفه‌ها در هر بعد است:
$$d_{L2}(p_1, p_2) = \sqrt{(5 - 8)^2 + (6 - 2)^2 + (7 - 4)^2}$$$$d_{L2}(p_1, p_2) = \sqrt{(-3)^2 + (4)^2 + (3)^2}$$$$d_{L2}(p_1, p_2) = \sqrt{9 + 16 + 9}$$
$$d_{L2}(p_1, p_2) = \sqrt{34}$$

**نتیجه**:
* فاصله L1 بین نقاط $(5, 6, 7)$ و $(8, 2, 4)$ برابر با $\mathbf{10}$ است.
* فاصله L2 بین نقاط $(5, 6, 7)$ و $(8, 2, 4)$ برابر با $\mathbf{\sqrt{34}}$ است.

---

### راه‌حل تمرین 3.5.3

**تمرین 3.5.3**: ثابت کنید که اگر $i$ و $j$ هر دو اعداد صحیح مثبت باشند و $i < j$، آنگاه نرم Li بین هر دو نقطه بیشتر از نرم Lj بین همان دو نقطه است.

**اثبات**: ما می‌خواهیم ثابت کنیم که اگر $i$ و $j$ هر دو اعداد صحیح مثبت باشند و $i < j$， آنگاه نرم $L_i$ بین هر دو نقطه **بزرگتر یا مساوی** نرم $L_j$ بین همان دو نقطه است.

اجازه دهید دو نقطه دلخواه $x = [x_1, \dots, x_n]$ و $y = [y_1, \dots, y_n]$ در یک فضای $n$-بعدی را در نظر بگیریم. فاصله $L_r$ بین این دو نقطه به صورت زیر تعریف می‌شود:
$$d_r(x, y) = \left( \sum_{k=1}^n |x_k - y_k|^r \right)^{1/r}$$

برای سادگی، قرار می‌دهیم $v_k = |x_k - y_k|$ برای $k=1, \dots, n$. واضح است که $v_k \ge 0$.
ما باید ثابت کنیم که برای $0 < i < j$:
$$\left( \sum_{k=1}^n v_k^i \right)^{1/i} \ge \left( \sum_{k=1}^n v_k^j \right)^{1/j}$$

این یک نتیجه استاندارد از **نامساوی میانگین‌های تعمیم یافته (Generalized Mean Inequality)** است. این نامساوی بیان می‌کند که برای اعداد نامنفی $v_1, \dots, v_n$ و برای $0 < p_1 < p_2$:
$$\left( \frac{1}{n} \sum_{k=1}^n v_k^{p_1} \right)^{1/p_1} \le \left( \frac{1}{n} \sum_{k=1}^n v_k^{p_2} \right)^{1/p_2}$$با جایگذاری $p_1 = i$ و $p_2 = j$:$$\frac{1}{n^{1/i}}\left( \sum_{k=1}^n v_k^i \right)^{1/i} \le \frac{1}{n^{1/j}}\left( \sum_{k=1}^n v_k^j \right)^{1/j}$$با جابه‌جایی جملات:$$\left( \sum_{k=1}^n v_k^i \right)^{1/i} \le n^{1/i - 1/j} \left( \sum_{k=1}^n v_k^j \right)^{1/j}$$
از آنجایی که $i < j$، عبارت $1/i - 1/j > 0$ خواهد بود، و $n^{1/i - 1/j} > 1$ (اگر $n>1$). این نتیجه دقیقاً **برعکس** آن چیزی است که در صورت سوال آمده است (که $L_i \ge L_j$ را می‌خواهد).

**توضیح برای تناقض با صورت سوال**:
به نظر می‌رسد صورت سوال به "نرم L1" و "نرم L2" اشاره دارد و ممکن است در تفسیر عمومی آن اشتباهی صورت گرفته باشد. نامساوی میانگین‌های تعمیم یافته (که در بالا ذکر شد) نشان می‌دهد که **نرم $L_j$ بزرگتر یا مساوی نرم $L_i$ است، در صورتی که $j > i$** (مثلاً $L_\infty \ge L_j \ge L_i \ge L_1$).

**با این حال، می‌توان اثبات را به گونه‌ای انجام داد که به نتیجه مورد نظر سوال برسیم، با فرض اینکه $L_i$ و $L_j$ به صورت $L_p = (\sum |x_k|^p)^{1/p}$ تعریف می‌شوند و می‌خواهیم مقایسه را انجام دهیم، اما معمولاً در فضای نرم، $L_p$ برای $p_1 < p_2$ به این صورت است: $L_{p_1} \ge L_{p_2}$ است.
برای مثال، $L_1 \ge L_2$. این همان چیزی است که صورت سوال خواسته است.**

**اثبات صحیح (با استفاده از نامساوی هولدر یا جنسن که منجر به $L_1 \ge L_2$ می‌شود):**
برای $0 < i < j$:
اجازه دهید $p = j/i > 1$.
$$\left( \sum v_k^j \right)^{1/j} = \left( \sum (v_k^i)^{j/i} \right)^{1/j}$$
قرار می‌دهیم $u_k = v_k^i$. پس $\sum u_k = \sum v_k^i$.
نامساوی هولدر برای $p > 1$ و $q = p/(p-1)$ که $1/p + 1/q = 1$ می‌گوید:
$\sum |a_k b_k| \le (\sum |a_k|^p)^{1/p} (\sum |b_k|^q)^{1/q}$

برای اثبات اینکه $L_i \ge L_j$ وقتی $i < j$:
در نظر بگیرید تابع $f(x) = x^{j/i}$ که برای $j/i > 1$ محدب است.
با استفاده از نامساوی جنسن برای $\sum w_k f(u_k)$ (که $w_k$ وزن‌ها و $\sum w_k = 1$):
$$\frac{\sum v_k^j}{\sum v_k^i} = \frac{\sum (v_k^i)^{j/i}}{\sum v_k^i}$$$$\text{با فرض } W_k = \frac{v_k^i}{\sum v_m^i} \text{ و } \sum W_k = 1$$$$\frac{\sum (v_k^i)^{j/i}}{\sum v_k^i} = \sum W_k (v_k^i)^{j/i - 1} = \sum W_k (v_k^i)^{(j-i)/i}$$$$\text{نامساوی جنسن برای } f(x) = x^{(j-i)/i} \text{ که محدب است زیرا } (j-i)/i > 0$$$$\left( \frac{\sum v_k^j}{\sum v_k^i} \right) \le \left( \frac{\sum v_k^i}{\sum v_k^i} \right)^{(j-i)/i} = 1^{(j-i)/i} = 1$$
این یک راه اثبات نیست.

**اثبات صحیح‌تر و مستقیم‌تر:**
فرض کنید $S = \sum_{k=1}^n v_k^i$. اگر $S=0$， آنگاه همه $v_k=0$ و نامساوی برقرار است ($0=0$).
اگر $S > 0$， برای هر $k$ داریم $\frac{v_k^i}{S} \le 1$.
چون $i < j$، پس $j/i > 1$.
برای هر $x \in [0, 1]$ و $p > 1$， داریم $x^p \le x$. (مثلاً $(0.5)^2=0.25 \le 0.5$).
پس $(\frac{v_k^i}{S})^{j/i} \le \frac{v_k^i}{S}$
$$\left(\frac{v_k^j}{S^{j/i}}\right) \le \frac{v_k^i}{S}$$
با جمع زدن روی $k$:
$$\sum_{k=1}^n \frac{v_k^j}{S^{j/i}} \le \sum_{k=1}^n \frac{v_k^i}{S}$$$$\frac{1}{S^{j/i}} \sum_{k=1}^n v_k^j \le \frac{1}{S} \sum_{k=1}^n v_k^i = \frac{S}{S} = 1$$$$\sum_{k=1}^n v_k^j \le S^{j/i}$$حالا ریشه $j$-ام را از طرفین می‌گیریم:$$\left( \sum_{k=1}^n v_k^j \right)^{1/j} \le (S^{j/i})^{1/j} = S^{(j/i)/j} = S^{1/i}$$
$$\left( \sum_{k=1}^n v_k^j \right)^{1/j} \le \left( \sum_{k=1}^n v_k^i \right)^{1/i}$$
این دقیقاً همان چیزی است که می‌خواستیم ثابت کنیم:
$d_j(x, y) \le d_i(x, y)$ یا به عبارت دیگر $d_i(x, y) \ge d_j(x, y)$.

**نتیجه گیری از اثبات**:
برای $0 < i < j$ و اعداد نامنفی $v_k = |x_k - y_k|$، داریم:
$$d_i(x, y) = \left( \sum_{k=1}^n v_k^i \right)^{1/i} \ge \left( \sum_{k=1}^n v_k^j \right)^{1/j} = d_j(x, y)$$
یعنی نرم $L_i$ همیشه **بزرگتر یا مساوی** نرم $L_j$ برای $i < j$ است. این شامل حالت‌هایی مانند $L_1 \ge L_2$ است.

**شرط برابری**:
برابری $d_i(x, y) = d_j(x, y)$ زمانی رخ می‌دهد که:
1.  تمام $v_k$ برابر صفر باشند (یعنی $x = y$). در این صورت، هر دو فاصله برابر 0 هستند.
2.  تنها یک $v_k$ غیرصفر باشد (یعنی نقاط فقط در یک بعد تفاوت داشته باشند). اگر تنها $v_{k_0} \ne 0$， آنگاه $\left( v_{k_0}^i \right)^{1/i} = v_{k_0}$ و $\left( v_{k_0}^j \right)^{1/j} = v_{k_0}$. هر دو فاصله برابر با $|x_{k_0} - y_{k_0}|$ خواهند بود.
در تمام موارد دیگر که حداقل دو $v_k$ غیرصفر (یا حداقل دو $v_k$ غیرصفر متفاوت) وجود دارند، نامساوی اکید است: $d_i(x, y) > d_j(x, y)$ برای $i < j$. صورت سوال می‌گوید "greater than"، که نشان می‌دهد احتمالاً منظور "greater than or equal to" است و حالت‌های برابری نیز شامل می‌شوند.

---

### راه‌حل تمرین 3.5.4

**تمرین 3.5.4**: فاصله ژاکارد را بین جفت مجموعه‌های زیر پیدا کنید:
(الف) $\{1, 2, 3, 4\}$ و $\{2, 3, 4, 5\}$.
(ب) $\{1, 2, 3\}$ و $\{4, 5, 6\}$.

فاصله ژاکارد بین دو مجموعه $A$ و $B$ برابر با $1 - SIM(A, B)$ است.
شباهت ژاکارد $SIM(A, B)$ به صورت نسبت اندازه اشتراک دو مجموعه به اندازه اجتماع آن‌ها تعریف می‌شود:
$$SIM(A, B) = \frac{|A \cap B|}{|A \cup B|}$$

#### **(الف) مجموعه‌های $\{1, 2, 3, 4\}$ و $\{2, 3, 4, 5\}$**

اجازه دهید $A = \{1, 2, 3, 4\}$ و $B = \{2, 3, 4, 5\}$.

* **اشتراک دو مجموعه**: $A \cap B = \{2, 3, 4\}$
* **اندازه اشتراک**: $|A \cap B| = 3$
* **اجتماع دو مجموعه**: $A \cup B = \{1, 2, 3, 4, 5\}$
* **اندازه اجتماع**: $|A \cup B| = 5$

* **شباهت ژاکارد**:
    $$SIM(A, B) = \frac{|A \cap B|}{|A \cup B|} = \frac{3}{5} = \mathbf{0.6}$$

* **فاصله ژاکارد**:
    $$d(A, B) = 1 - SIM(A, B) = 1 - 0.6 = \mathbf{0.4}$$

---

#### **(ب) مجموعه‌های $\{1, 2, 3\}$ و $\{4, 5, 6\}$**

اجازه دهید $C = \{1, 2, 3\}$ و $D = \{4, 5, 6\}$.

* **اشتراک دو مجموعه**: $C \cap D = \{\}$ (مجموعه تهی)
* **اندازه اشتراک**: $|C \cap D| = 0$
* **اجتماع دو مجموعه**: $C \cup D = \{1, 2, 3, 4, 5, 6\}$
* **اندازه اجتماع**: $|C \cup D| = 6$

* **شباهت ژاکارد**:
    $$SIM(C, D) = \frac{|C \cap D|}{|C \cup D|} = \frac{0}{6} = \mathbf{0}$$

* **فاصله ژاکارد**:
    $$d(C, D) = 1 - SIM(C, D) = 1 - 0 = \mathbf{1}$$

**نتیجه نهایی**:
* فاصله ژاکارد بین $\{1, 2, 3, 4\}$ و $\{2, 3, 4, 5\}$ برابر با $\mathbf{0.4}$ است.
* فاصله ژاکارد بین $\{1, 2, 3\}$ و $\{4, 5, 6\}$ برابر با $\mathbf{1}$ است. (این دو مجموعه کاملاً مجزا هستند، بنابراین حداکثر فاصله ممکن را دارند).
---
